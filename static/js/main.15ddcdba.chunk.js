(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],{41:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(12),o=n.n(r),c=(n(41),n(11)),i=n(23),d=Object(a.createContext)(),l=n(1),s=function(){var e,t,n=Object(a.useContext)(d).data,r=Object(a.useRef)();i.a.registry.getPlugin("tooltip").positioners.above=function(e){return{x:e[0].element.x-30,y:e[0].element.y-30}};var o={labels:null===n||void 0===n||null===(e=n.weather)||void 0===e?void 0:e.daily.map((function(e,t){return"Nov. "+t})),datasets:[{data:null===n||void 0===n||null===(t=n.weather)||void 0===t?void 0:t.daily.map((function(e){return e.temp.max})),fill:{target:"origin",above:n.darkMode?"#047857":"#eef4fe",below:n.darkMode?"#047857":"#eef4fe"}}]},c={plugins:{legend:{display:!1},tooltip:{enabled:!0,usePointStyle:!0,position:"above",backgroundColor:"transparent",displayColors:!1,bodyFontSize:22,bodyColor:n.darkMode?"#6ee7b7":"#5596f6",bodyFont:{weight:"bold",size:15,family:"Open Sans, sans-serif"},callbacks:{title:function(){return""},label:function(e){return e.raw+"\xb0F"}}},title:{display:!0,text:"Max Temperature",color:n.darkMode?"#6b7280":"#4b5563",font:{weight:"700",size:"16"},align:"start",padding:{bottom:100,top:5}}},responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{display:!1},grid:{display:!1,drawBorder:!1}},y:{ticks:{display:!1},grid:{display:!1,drawBorder:!1}}},elements:{line:{backgroundColor:n.darkMode?"#6ee7b7":"#5596f6",borderWidth:3,tension:.4,borderColor:n.darkMode?"#6ee7b7":"#5596f6",borderDashOffset:.3,fill:!0},point:{backgroundColor:n.darkMode?"#047857":"#5596f6",hoverRadius:10,pointRadius:0,pointBorderColor:"#fff",borderColor:"#fff",borderWidth:0,hoverBorderWidth:4,borderDashOffset:.2,borderCapStyle:"round"}},events:[]};return Object(a.useEffect)((function(){null!=n.weather&&r.current&&(r.current.setActiveElements([{datasetIndex:0,index:n.activeIndex}]),r.current.tooltip.setActiveElements([{datasetIndex:0,index:n.activeIndex}]),r.current.tooltip.update(),r.current.update(),function(){var e=r.current.getActiveElements();e[0].element.options.borderColor="#fff",e[0].element.options.backgroundColor=n.darkMode?"#047857":"#5596f6",r.current.update()}())}),[n,r]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(i.b,{type:"area",data:o,width:100,height:250,options:c,ref:r})})},u=n(6),b=n(9),j=n.n(b),h=n(10),f=n(18),p=n(24),x={loading:!1,city:{label:"London, Uk",value:{description:"London, UK",place_id:"ChIJdd4hrwug2EcRmSrV3Vo6llI",reference:"ChIJdd4hrwug2EcRmSrV3Vo6llI"}},weather:null,activeIndex:0,darkMode:"true"===localStorage.getItem("dark")},m="FETCH_CITY",v="FETCH_WEATHER",g="SET_INDEX",O="TOGGLE_DARK_MODE",y="STOP_LOADER",w="LOADING",k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(u.a)(Object(u.a)({},e),{},{city:t.payload});case v:return Object(u.a)(Object(u.a)({},e),{},{weather:t.payload});case w:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case y:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});case g:return Object(u.a)(Object(u.a)({},e),{},{activeIndex:t.payload});case O:return localStorage.setItem("dark",!e.darkMode),Object(u.a)(Object(u.a)({},e),{},{darkMode:!e.darkMode});default:return e}},N=n(15),C=n.n(N),M=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://maps.googleapis.com/maps/api/geocode/json?result_type=locality&latlng="+t.lat+","+t.lng+"&key=AIzaSyCdDBitahRQsBjYmh_mL3nWmfZONHpcglM");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){return"geolocation"in navigator?new Promise((function(e,t){return navigator.geolocation.getCurrentPosition(e,t)})).then((function(e){return{lat:e.coords.latitude,lng:e.coords.longitude}})).catch((function(e){return new Promise((function(e){return e({lat:51.509865,lng:-.118092})}))})):new Promise((function(e){return e({lat:51.509865,lng:-.118092})}))},E=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://api.openweathermap.org/data/2.5/onecall?units=Imperial&lat="+t.lat+"&lon="+t.lng+"&exclude=hourly,minutely&appid=2b05cf83ed7883a82a26168316d206af");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=(n(63),function(){var e=Object(a.useContext)(d),t=(e._,e.dispatch),n=Object(a.useState)(null),r=Object(c.a)(n,2),o=r[0],i=r[1],s=I(),b=function(e){return p.b.error(e)},x=function(e){return Object(f.c)(e[0])},g=function(e){return E(e)};Object(a.useEffect)((function(){t({type:w});s.then((function(e){!function(e){E(e).then((function(e){t({type:v,payload:e})})).catch((function(e){b("Could not get weather information!")}))}(e),function(e){M(e).then((function(e){var n={label:e.results[0].formatted_address,value:{description:e.results[0].formatted_address,place_id:e.results[0].place_id,reference:e.results[0].place_id}};t({type:m,payload:n}),i(n)})).catch((function(e){b("Could not fetch location information!")}))}(e),t({type:y})})).catch((function(e){b("Could not get coordinates!"),t({type:y})}))}),[]);var O=function(){var e=Object(h.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:w}),i(n),e.next=4,(r=n.label,Object(f.b)(r)).then(x);case 4:a=e.sent,g(a).then((function(e){t({type:v,payload:e}),t({type:m,payload:n}),t({type:y})})).catch((function(e){b("Network Error:"+e),t({type:y})}));case 6:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f.a,{selectProps:{placeholder:"Type to select ...",noOptionsMessage:function(){return"Search location"},value:o,onSelect:O,onChange:O,className:"outline-none md:w-96 dark:bg-gray-800",styles:{input:function(){return{outline:"none",border:"none"}},control:function(e){return Object(u.a)(Object(u.a)({},e),{},{outline:"none",boxShadow:"none",borderColor:"none !important"})}}},apiKey:"AIzaSyCdDBitahRQsBjYmh_mL3nWmfZONHpcglM"}),Object(l.jsx)(p.a,{})]})}),_=n(34),D=n(20),F=n.n(D),A=function(){var e=Object(a.useContext)(d),t=e.data,n=e.dispatch;return Object(l.jsx)("div",{className:"flex justify-between",children:Object(l.jsx)(_.a,{show:4.5,slide:1,swiping:!0,className:"flex justify-between cursor-pointer",children:function(){var e,a;return null===t||void 0===t||null===(e=t.weather)||void 0===e||null===(a=e.daily)||void 0===a?void 0:a.map((function(e,a){var r,o;return Object(l.jsxs)("div",{onClick:function(){n({type:g,payload:a})},className:t.activeIndex===a?"text-center rounded-md px-10 py-6 dark:bg-green-700 bg-blue-400 text-white dark:text-gray-300 mr-4":"text-center rounded-md px-10 py-6 bg-transparent text-gray-500 mr-4 hover:shadow",children:[Object(l.jsx)("h3",{className:"font-bold",children:0===a?"Today":(o=e.dt,F()(new Date(1e3*o)).format("MMM, DD"))}),Object(l.jsx)("i",{className:"text-4xl owi owi-"+(null===e||void 0===e||null===(r=e.weather[0])||void 0===r?void 0:r.icon)}),Object(l.jsx)("p",{className:t.activeIndex===a?"font-normal text-white dark:text-gray-300":"font-normal text-gray-400",children:"Humidity"}),Object(l.jsxs)("span",{className:t.activeIndex===a?"font-normal text-white dark:text-gray-300":"font-normal text-gray-400",children:[null===e||void 0===e?void 0:e.humidity,"%"]})]},a)}))}()})})},R=n(22),B=n.n(R),L=function(){var e,t,n,r,o,c,i,s,u,b,j,h,f,p,x=Object(a.useContext)(d).data,m=(null===x||void 0===x?void 0:x.weather)?new Date(1e3*(null===x||void 0===x||null===(e=x.weather)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.dt)):null;return Object(l.jsx)("div",{className:"md:pt-20 font-sans text-gray-600 dark:text-gray-500",children:(null===x||void 0===x?void 0:x.weather)&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("p",{className:"font-medium text-center",children:[Object(l.jsx)(B.a,{format:"dddd MMMM DD, YYYY",children:m}),Object(l.jsx)("br",{}),Object(l.jsx)(B.a,{format:"hh : mm A",children:m})]}),Object(l.jsxs)("div",{className:"mt-4 mb-0 flex items-center justify-center",children:[Object(l.jsx)("i",{className:"text-9xl owi owi-"+(null===x||void 0===x||null===(n=x.weather)||void 0===n||null===(r=n.current)||void 0===r||null===(o=r.weather[0])||void 0===o?void 0:o.icon)}),Object(l.jsxs)("p",{className:"text-2xl font-bold ml-4",children:[null===x||void 0===x||null===(c=x.weather)||void 0===c||null===(i=c.current)||void 0===i?void 0:i.temp," \xb0F"]})]}),Object(l.jsx)("p",{className:"text-2xl font-bold text-center",children:null===x||void 0===x||null===(s=x.weather)||void 0===s||null===(u=s.current)||void 0===u||null===(b=u.weather[0])||void 0===b?void 0:b.main}),Object(l.jsxs)("div",{className:"my-16 flex divide-x-2 divide-gray-500 justify-center",children:[Object(l.jsxs)("div",{className:"text-right pr-6 w-1/2",children:[Object(l.jsx)("p",{className:"text-gray-500 font-normal",children:"Humidity"}),Object(l.jsxs)("span",{className:"text-gray-600 font-bold mr-3",children:[null===x||void 0===x||null===(j=x.weather)||void 0===j||null===(h=j.current)||void 0===h?void 0:h.humidity,"%"]})]}),Object(l.jsxs)("div",{className:"pl-6 text-left w-1/2",children:[Object(l.jsx)("p",{className:"text-gray-500 font-normal",children:"Wind Speed"}),Object(l.jsxs)("span",{className:"text-gray-600 font-bold",children:[(1.61*(null===x||void 0===x||null===(f=x.weather)||void 0===f||null===(p=f.current)||void 0===p?void 0:p.wind_speed)).toFixed(2)," km/hr"]})]})]})]})})},T=n(35),P=n.n(T),H=n(36),W=function(){var e=Object(a.useContext)(d),t=e.data,n=e.dispatch;Object(a.useEffect)((function(){if(void 0!==window){var e=window.document.documentElement;e.classList.remove(t.darkMode?"light":"dark"),e.classList.add(t.darkMode?"dark":"light")}}),[t]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("section",{className:"w-100  dark:bg-gray-800 bg-gray-50 min-h-screen",children:[Object(l.jsxs)("header",{className:"pt-6 px-10 h-20 w-full shadow-md dark:bg-gray-800 flex justify-between",children:[Object(l.jsx)("div",{className:"w-2/3 flex justify-start",children:Object(l.jsx)("div",{className:"md:mr-24 w-full",children:Object(l.jsx)(S,{})})}),Object(l.jsx)("div",{className:"w-1/3 flex justify-end",children:Object(l.jsx)(P.a,{onChange:function(){n({type:O})},checked:t.darkMode,checkedIcon:Object(l.jsx)("div",{children:"\u2600\ufe0f"}),uncheckedIcon:Object(l.jsx)("div",{children:"\ud83c\udf19"}),offColor:"#090c0c",onColor:"#090c0c",height:23,width:48,handleDiameter:25,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)"})})]}),Object(l.jsx)("div",{className:"md:flex md:space-between md:mt-2 mt-8",children:t.loading?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"mx-auto my-32",style:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"left"},children:Object(l.jsx)(H.MoonLoader,{color:t.darkMode?"#047857":"#5596f6",loading:t.loading,css:"",size:100})})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"dark:bg-gray-800 w-full md:w-1/3",children:Object(l.jsx)("div",{className:"pt-2",children:Object(l.jsx)(L,{})})}),Object(l.jsxs)("div",{className:"md:w-2/3 w-full",children:[Object(l.jsx)("div",{className:"px-8 pt-8 pb-6",children:Object(l.jsx)(s,{})}),Object(l.jsx)("div",{className:"px-10 py-2",children:Object(l.jsx)(A,{})})]})]})}),Object(l.jsxs)("footer",{className:"my-4 px-10 text-gray-400 dark:text-gray-700",children:["\u2192 ",Object(l.jsx)("a",{href:"https://github.com/joxiah025",target:"__blank",children:"Github"})]})]})})};function Y(){var e=Object(a.useReducer)(k,x),t=Object(c.a)(e,2),n=t[0],r=t[1];return Object(l.jsx)(d.Provider,{value:{data:n,dispatch:r},children:Object(l.jsx)(W,{})})}var z=document.getElementById("root");o.a.render(Object(l.jsx)(a.StrictMode,{children:Object(l.jsx)(Y,{})}),z)}},[[94,1,2]]]);
//# sourceMappingURL=main.15ddcdba.chunk.js.map